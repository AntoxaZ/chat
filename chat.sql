-- phpMyAdmin SQL Dump
-- version 3.5.1
-- http://www.phpmyadmin.net
--
-- Хост: 127.0.0.1
-- Время создания: Ноя 11 2015 г., 15:02
-- Версия сервера: 5.5.25
-- Версия PHP: 5.3.13

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- База данных: `chat`
--

-- --------------------------------------------------------

--
-- Структура таблицы `messages`
--

CREATE TABLE IF NOT EXISTS `messages` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `id_user` int(11) NOT NULL,
  `id_room` int(11) NOT NULL,
  `text` varchar(300) NOT NULL,
  `date` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=124 ;

--
-- Дамп данных таблицы `messages`
--

INSERT INTO `messages` (`id`, `id_user`, `id_room`, `text`, `date`) VALUES
(33, 1, 1, 'С‹РІР°', '2015-09-11 20:59:56'),
(34, 1, 1, 'С‹РІР°', '2015-09-11 20:59:58'),
(35, 1, 1, '1', '2015-09-11 21:00:03'),
(36, 1, 1, '2', '2015-09-11 21:00:06'),
(37, 1, 1, '3', '2015-09-11 21:00:09'),
(38, 0, 1, 'РІС‹Р°', '2015-09-11 21:16:47'),
(41, 0, 0, '', '2015-09-11 21:31:28'),
(44, 2, 0, '', '2015-09-11 21:42:44'),
(47, 1, 1, 'sdfsdsdf', '2015-09-11 21:44:42'),
(50, 2, 2, 'Р№С†СѓРєРµ', '2015-09-11 22:44:17'),
(52, 2, 2, 'Р№С†СѓРєРµ', '2015-09-11 22:44:28'),
(65, 1, 0, 'С‹РІР°', '2015-09-11 22:46:55'),
(66, 1, 1, '12345', '2015-09-11 22:47:18'),
(67, 2, 1, 'С„С‹Р°', '2015-09-11 22:47:50'),
(68, 1, 1, 'РІР°РІР°РІР°РІР°РІ', '2015-09-11 22:57:38'),
(69, 1, 1, 'РІР°РІР°РІР°РІР°РІ', '2015-09-11 22:57:47'),
(70, 1, 1, '1234', '2015-09-11 22:58:18'),
(71, 1, 2, '2komn', '2015-09-11 23:01:02'),
(72, 1, 1, 'perv', '2015-09-11 23:06:54'),
(73, 1, 1, 'perv', '2015-09-11 23:07:10'),
(74, 1, 2, '222', '2015-09-11 23:07:24'),
(75, 1, 2, '12', '2015-09-11 23:13:02'),
(76, 1, 2, '123456', '2015-09-11 23:13:21'),
(77, 1, 2, '546', '2015-09-11 23:21:30'),
(78, 1, 2, 'asdf', '2015-09-11 23:22:53'),
(79, 1, 1, '111', '2015-09-11 23:23:06'),
(80, 1, 1, '222', '2015-09-11 23:24:35'),
(81, 1, 1, 'adsf', '2015-09-11 23:27:00'),
(82, 1, 1, 'adsf', '2015-09-11 23:27:01'),
(83, 1, 2, 'sadfsadf', '2015-09-11 23:30:32'),
(84, 1, 2, '111', '2015-09-11 23:31:05'),
(85, 1, 1, '111', '2015-09-11 23:31:20'),
(86, 1, 1, '123', '2015-09-11 23:31:50'),
(87, 1, 1, '321', '2015-09-11 23:31:58'),
(88, 1, 1, '1234', '2015-09-11 23:33:04'),
(89, 1, 1, '342', '2015-09-11 23:33:14'),
(90, 1, 1, '11', '2015-09-11 23:34:03'),
(91, 1, 2, '1222', '2015-09-11 23:34:43'),
(92, 2, 2, '12', '2015-09-11 23:44:26'),
(93, 2, 2, '13', '2015-09-11 23:44:33'),
(94, 2, 1, '123', '2015-09-11 23:44:43'),
(95, 1, 2, '14', '2015-09-11 23:53:04'),
(96, 2, 0, '', '2015-10-11 12:54:15'),
(97, 2, 0, '', '2015-10-11 12:54:36'),
(98, 1, 1, 'С‹РІР°С‹С„РІР°', '2015-10-11 18:07:36'),
(99, 1, 1, 'sad', '2015-10-11 18:32:38'),
(100, 1, 1, 'dfgfdsg', '2015-10-11 18:57:02'),
(101, 2, 0, '', '2015-10-11 19:04:48'),
(102, 2, 2, 'sdf', '2015-10-11 19:24:14'),
(103, 2, 1, 'С„С‹Р°РІС‹РІС„Р°', '2015-10-11 20:32:39'),
(104, 2, 1, 'С„С‹Р°РІС‹РІС„Р°', '2015-10-11 20:32:42'),
(105, 2, 1, 'С„С‹Р°РІС‹РІС„Р°', '2015-10-11 20:32:42'),
(106, 1, 1, 'С‹РІР°', '2015-10-11 20:32:50'),
(107, 3, 1, '1212', '2015-10-11 22:00:28'),
(108, 3, 2, 'СѓР·РµСЂ', '2015-10-11 22:02:30'),
(109, 1, 7, 'С‹РІР°С‹', '2015-10-11 23:48:56'),
(110, 1, 5, 'С„С‹РІС„С‹РІ', '2015-10-11 23:53:17'),
(111, 1, 7, 'sdf', '2015-11-11 01:26:11'),
(112, 1, 2, 'РІР°Рї', '2015-11-11 13:00:54'),
(113, 1, 2, 'Р°РІРїРІР°Рї', '2015-11-11 13:12:54'),
(114, 1, 2, 'С‹РІР°', '2015-11-11 13:17:28'),
(115, 1, 2, 'С‹РІР°С‹РІР°С‹РІРї', '2015-11-11 13:17:31'),
(116, 1, 2, 'РІС‹Р°', '2015-11-11 13:18:23'),
(117, 1, 2, 'С‹РІР°С‹', '2015-11-11 13:19:30'),
(118, 1, 2, 'С‹РІР°', '2015-11-11 13:19:46'),
(121, 1, 5, 'gfh', '2015-11-11 13:30:16'),
(122, 2, 7, 'gdfgdfg', '2015-11-11 13:40:18'),
(123, 2, 2, 'sdfsda', '2015-11-11 13:52:36');

-- --------------------------------------------------------

--
-- Структура таблицы `private_messages`
--

CREATE TABLE IF NOT EXISTS `private_messages` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `id_private_room` int(11) NOT NULL,
  `text` varchar(500) NOT NULL,
  `date` datetime NOT NULL,
  `id_user` varchar(30) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=139 ;

--
-- Дамп данных таблицы `private_messages`
--

INSERT INTO `private_messages` (`id`, `id_private_room`, `text`, `date`, `id_user`) VALUES
(3, 1, 'dsfsd', '2015-10-11 14:46:58', '2'),
(4, 1, '12345', '2015-10-11 16:10:08', '2'),
(5, 1, '123456', '2015-10-11 16:29:05', '2'),
(6, 1, '1234567', '2015-10-11 16:29:55', '2'),
(7, 1, '8', '2015-10-11 16:30:09', '2'),
(9, 1, 'С‹РІР°', '2015-10-11 16:32:24', '2'),
(10, 1, '1234567812345678', '2015-10-11 16:36:39', '2'),
(11, 1, 'sdf', '2015-10-11 16:40:10', '1'),
(12, 1, 'sdfsdf', '2015-10-11 16:56:20', '2'),
(14, 1, 'sdfsdf', '2015-10-11 16:59:24', '2'),
(15, 1, 'РЈР·РµСЂСѓ', '2015-10-11 17:02:57', '1'),
(16, 1, 'sdfР°РїРІР°Рї', '2015-10-11 17:10:31', '1'),
(17, 1, 'РІР°С‹Р°', '2015-10-11 17:49:39', '2'),
(18, 1, 'РІР°С‹Р°', '2015-10-11 17:56:11', '2'),
(19, 1, 'РЅРі', '2015-10-11 17:58:50', '2'),
(20, 1, 'С‹С„РІР°', '2015-10-11 18:07:55', '2'),
(21, 1, 'С‹С„РІР°', '2015-10-11 18:10:11', '2'),
(22, 1, 'С‹РІР°', '2015-10-11 18:10:21', '2'),
(23, 1, 'РџСЂС‚РІ', '2015-10-11 18:11:35', '2'),
(24, 1, 'С‹РІР°', '2015-10-11 18:11:51', '2'),
(25, 1, 'С‹С„РІС‹РІ', '2015-10-11 18:16:43', '2'),
(26, 1, '12', '2015-10-11 18:30:43', '2'),
(27, 1, '1212', '2015-10-11 18:33:00', '2'),
(28, 1, '21312', '2015-10-11 18:35:09', '1'),
(29, 1, 'sadf', '2015-10-11 18:57:56', '1'),
(30, 1, 'sadf', '2015-10-11 18:58:39', '1'),
(31, 1, 'sdfsd', '2015-10-11 18:59:11', '2'),
(32, 1, 'sdfsd', '2015-10-11 18:59:38', '2'),
(33, 1, 'Р°РґРјРёРЅ РЅР°РїРёСЃР°Р»', '2015-10-11 19:00:49', '1'),
(34, 1, 'Р°РґРјРёРЅ РЅР°РїРёСЃР°Р»2', '2015-10-11 19:01:03', '1'),
(35, 1, 'Р°РґРјРёРЅ РЅР°РїРёСЃР°Р»2', '2015-10-11 19:01:18', '1'),
(36, 1, 'С‹РІР°С‹РІР°', '2015-10-11 19:02:29', '2'),
(37, 0, '', '2015-10-11 19:05:00', '2'),
(38, 1, 'hg', '2015-10-11 19:19:32', '2'),
(39, 1, 'asdf', '2015-10-11 19:23:41', '2'),
(40, 1, 'sdfsdf', '2015-10-11 19:24:22', '1'),
(41, 1, 'sdfsd', '2015-10-11 19:24:45', '2'),
(42, 1, 'sdfsdsdf', '2015-10-11 19:24:56', '2'),
(43, 1, 'sdf', '2015-10-11 19:25:06', '1'),
(44, 1, 'wqeqw', '2015-10-11 19:25:57', '1'),
(45, 1, 'sdf', '2015-10-11 19:26:28', '1'),
(46, 0, 'sdfdsf', '2015-10-11 19:27:13', '1'),
(47, 0, 'sdfdsf', '2015-10-11 19:27:16', '1'),
(48, 0, '123', '2015-10-11 19:27:25', '1'),
(49, 1, 'dad', '2015-10-11 19:36:21', '2'),
(50, 1, 'dad1', '2015-10-11 19:36:48', '2'),
(51, 0, 'qwqw', '2015-10-11 19:37:31', '1'),
(52, 0, 'qwqw', '2015-10-11 19:37:38', '1'),
(53, 0, 'qwqw', '2015-10-11 19:37:38', '1'),
(54, 0, 'qwqw', '2015-10-11 19:37:38', '1'),
(55, 0, 'qwqw', '2015-10-11 19:37:39', '1'),
(56, 0, 'qwqw', '2015-10-11 19:37:39', '1'),
(57, 0, 'qwqw', '2015-10-11 19:37:39', '1'),
(58, 0, 'qweqweqw', '2015-10-11 19:37:42', '1'),
(59, 0, 'qweqweqw', '2015-10-11 19:37:42', '1'),
(60, 0, 'qweqweqw', '2015-10-11 19:37:42', '1'),
(61, 0, '123', '2015-10-11 19:37:54', '1'),
(62, 0, '123', '2015-10-11 19:38:03', '1'),
(63, 0, 'sadf', '2015-10-11 19:38:45', '1'),
(64, 0, '123', '2015-10-11 19:39:04', '1'),
(65, 0, '123', '2015-10-11 19:39:06', '1'),
(66, 0, '123', '2015-10-11 19:39:06', '1'),
(67, 0, '123', '2015-10-11 19:39:06', '1'),
(68, 1, '123', '2015-10-11 19:40:57', '1'),
(69, 1, 'sadf', '2015-10-11 19:42:29', '1'),
(70, 1, 'sadf', '2015-10-11 19:45:18', '1'),
(71, 1, 'fhfgh', '2015-10-11 19:45:38', '2'),
(72, 0, 'dfg', '2015-10-11 19:46:01', '2'),
(73, 1, 'dfgdfg', '2015-10-11 19:46:12', '2'),
(74, 1, 'sadfsa', '2015-10-11 19:47:23', '2'),
(75, 1, 'sadfsa', '2015-10-11 19:47:24', '2'),
(76, 1, 'sadfsa', '2015-10-11 19:47:24', '2'),
(77, 1, 'asdf', '2015-10-11 19:48:02', '1'),
(78, 1, '12', '2015-10-11 19:48:59', '2'),
(79, 1, 'sdafasdfdf', '2015-10-11 19:49:53', '1'),
(80, 1, '12', '2015-10-11 19:51:31', '2'),
(81, 0, 'sdfsdf', '2015-10-11 19:56:29', '2'),
(82, 1, 'sdfasdf', '2015-10-11 19:57:47', '2'),
(83, 1, '111', '2015-10-11 19:59:21', '1'),
(84, 1, '111', '2015-10-11 20:02:49', '1'),
(85, 1, '1211', '2015-10-11 20:04:33', '2'),
(86, 1, 'ssdf', '2015-10-11 20:08:07', '1'),
(87, 1, '1212', '2015-10-11 20:10:12', '1'),
(88, 1, 'asdas', '2015-10-11 20:11:34', '2'),
(89, 1, 'СЋР·РµСЂСѓ', '2015-10-11 20:12:34', '1'),
(90, 1, 'Р°РґРјРёРЅСѓ', '2015-10-11 20:13:40', '2'),
(91, 1, 'Р°РґРјРёРЅСѓ2', '2015-10-11 20:17:44', '2'),
(92, 1, 'Р°РґРјРёРЅСѓ2', '2015-10-11 20:20:13', '2'),
(93, 1, 'Р°РґРјРёРЅСѓ2', '2015-10-11 20:21:27', '2'),
(94, 1, 'СЋР·РµСЂСѓ', '2015-10-11 20:22:41', '1'),
(95, 1, 'Р°РґРјРёРЅСѓ', '2015-10-11 20:23:00', '2'),
(96, 1, 'Р°РґРјРёРЅСѓ', '2015-10-11 20:23:01', '2'),
(97, 0, 'РѕРїРѕРї', '2015-10-11 20:23:18', '1'),
(98, 0, 'РѕРїРѕРї', '2015-10-11 20:23:21', '1'),
(99, 1, 'Р№С†СѓРє', '2015-10-11 20:23:29', '1'),
(100, 1, 'С‹С„РІР°РІС‹С„Р°', '2015-10-11 20:33:08', '1'),
(101, 1, '123456', '2015-10-11 20:34:40', '1'),
(102, 1, '123456', '2015-10-11 20:39:48', '1'),
(103, 1, '123456', '2015-10-11 20:43:34', '1'),
(104, 1, '123456', '2015-10-11 20:45:27', '1'),
(105, 1, '123456', '2015-10-11 20:45:29', '1'),
(106, 1, '1234567', '2015-10-11 20:46:44', '1'),
(107, 1, '1234567', '2015-10-11 20:47:20', '1'),
(108, 1, '1234567', '2015-10-11 20:48:14', '1'),
(109, 1, '1234567', '2015-10-11 20:48:14', '1'),
(110, 1, '1234567', '2015-10-11 20:48:48', '1'),
(111, 1, '1234567', '2015-10-11 20:48:48', '1'),
(112, 0, 'С‹РІ', '2015-10-11 20:50:59', '2'),
(113, 1, 'С‹РІ', '2015-10-11 20:51:10', '2'),
(114, 1, 'С‹РІ', '2015-10-11 20:51:30', '2'),
(115, 3, 'Р°РґРјРёРЅСѓ', '2015-10-11 21:00:54', '3'),
(116, 3, 'РІС‹Р°', '2015-10-11 21:50:33', '3'),
(117, 4, 'С‹РІР°', '2015-10-11 21:50:40', '3'),
(118, 6, 'sdf', '2015-10-11 23:54:56', '2'),
(119, 5, 'sdf', '2015-11-11 01:26:24', '1'),
(120, 7, 'sdf', '2015-11-11 01:36:46', '2'),
(121, 9, '132', '2015-11-11 01:44:43', '1'),
(122, 9, '465', '2015-11-11 01:49:49', '1'),
(123, 9, '465', '2015-11-11 01:52:28', '1'),
(124, 9, '132', '2015-11-11 01:53:38', '2'),
(125, 9, '1323', '2015-11-11 01:53:52', '2'),
(126, 12, '132', '2015-11-11 01:54:51', '1'),
(127, 12, '132', '2015-11-11 01:55:28', '1'),
(128, 12, '132', '2015-11-11 01:59:54', '1'),
(129, 12, '132', '2015-11-11 02:00:08', '1'),
(130, 13, 'd', '2015-11-11 11:08:27', '1'),
(131, 13, 'd', '2015-11-11 11:08:43', '1'),
(132, 13, 'dfgdf', '2015-11-11 11:16:49', '1'),
(133, 13, 'sdfs', '2015-11-11 11:33:58', '1'),
(134, 13, 'sdfssdf', '2015-11-11 11:34:17', '2'),
(135, 13, 'asdf', '2015-11-11 11:36:26', '1'),
(136, 13, 'asdf', '2015-11-11 11:36:45', '1'),
(137, 3, 'asdf', '2015-11-11 11:37:55', '1'),
(138, 14, 'asdf', '2015-11-11 11:38:23', '2');

-- --------------------------------------------------------

--
-- Структура таблицы `private_rooms`
--

CREATE TABLE IF NOT EXISTS `private_rooms` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `id_first_user` int(11) NOT NULL,
  `id_second_user` int(11) NOT NULL,
  `last_message` int(1) NOT NULL,
  `id_user_last_message` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=15 ;

--
-- Дамп данных таблицы `private_rooms`
--

INSERT INTO `private_rooms` (`id`, `id_first_user`, `id_second_user`, `last_message`, `id_user_last_message`) VALUES
(2, 0, 2, 0, 0),
(3, 3, 1, 0, 3),
(13, 1, 2, 0, 2),
(14, 2, 3, 0, 3);

-- --------------------------------------------------------

--
-- Структура таблицы `rooms`
--

CREATE TABLE IF NOT EXISTS `rooms` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(30) NOT NULL,
  `create_date` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=8 ;

--
-- Дамп данных таблицы `rooms`
--

INSERT INTO `rooms` (`id`, `name`, `create_date`) VALUES
(2, 'Вторая комната', '2015-11-10 00:00:00'),
(5, 'Новая', '2015-10-11 23:47:20'),
(7, 'Еще одна', '2015-10-11 23:48:05');

-- --------------------------------------------------------

--
-- Структура таблицы `users`
--

CREATE TABLE IF NOT EXISTS `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `login` varchar(60) NOT NULL,
  `password` varchar(120) NOT NULL,
  `is_admin` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=6 ;

--
-- Дамп данных таблицы `users`
--

INSERT INTO `users` (`id`, `login`, `password`, `is_admin`) VALUES
(1, 'admin', '21232f297a57a5a743894a0e4a801fc3', 1),
(2, 'user1', '24c9e15e52afc47c225b757e7bee1f9d', 0),
(3, 'user2', '7e58d63b60197ceb55a1c487989a3720', 0),
(4, 'ыва', '1f409c65d67ec3d20902d40e9ab37a0e', 0),
(5, 'Тоха', '7477138d7b48cb37bd2660b49845c403', 0);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
